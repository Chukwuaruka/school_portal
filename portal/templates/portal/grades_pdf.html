<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>{{ student_name }} - Report Card</title>
<style>
  body {
    font-family: Arial, sans-serif;
    font-size: 12px;
    margin: 0;
    padding: 20px;
    color: #fff;
    background-color: #000;
  }
  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
  }
  .logo {
    width: 100px;
  }
  .school-details {
    text-align: left;
  }
  .school-name {
    font-size: 18px;
    font-weight: bold;
  }
  .school-address {
    font-size: 12px;
  }
  .term-heading {
    font-size: 14px;
    font-weight: bold;
    margin-top: 10px;
    margin-bottom: 20px;
  }
  .student-profile {
    font-size: 12px;
    text-align: right;
    float: right;
    width: 30%;
    margin-left: 20px;
  }
  .skill-box {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }
  .skill {
    background-color: #444;
    color: #fff;
    padding: 10px;
    border-radius: 5px;
    width: 45%;
    text-align: center;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
    font-size: 12px;
    background-color: #000;
  }
  th, td {
    border: 1px solid #fff;
    padding: 5px;
    text-align: center;
  }
  th {
    background-color: #444;
    color: #fff;
    font-weight: bold;
  }
  .summary-table td {
    border: none;
    text-align: left;
    padding: 4px;
    vertical-align: top;
    font-weight: bold;
  }
  .highlight {
    color: #a0522d;
  }
  .footer {
    text-align: center;
    font-size: 10px;
    margin-top: 20px;
    padding-top: 10px;
    border-top: 1px dashed #fff;
  }
  .grade-key {
    float: right;
    width: 30%;
    margin-left: 20px;
  }
</style>
</head>
<body>

<div class="header">
  <img src="{{ logo_url }}" alt="Logo" class="logo">
  <div class="school-details">
    <div class="school-name">PEN ARK SCHOOLS</div>
    <div class="school-address">
      9/11 EDUN STREET, LADIPO, OSHODI, LAGOS<br>
      TEL: 09063550663, 08063616032<br>
      <strong>MOTTO:</strong> TRAINED FOR DUTY & FOR THEE
    </div>
    <div class="term-heading">FIRST TERM ASSESSMENT REPORT (SESSION 2025/2026)</div>
  </div>
</div>

<div class="student-profile">
  <table>
    <tr><td><strong>Student Profile:</strong> {{ student_profile.profile_id }}</td></tr>
    <tr><td><strong>Name:</strong> {{ student_profile.name }}</td></tr>
    <tr><td><strong>Class:</strong> {{ student_profile.classroom }}</td></tr>
    <tr><td><strong>Sex:</strong> {{ student_profile.sex }}</td></tr>
    <tr><td><strong>Height:</strong> {{ student_profile.height }}</td></tr>
    <tr><td><strong>Weight:</strong> {{ student_profile.weight }}</td></tr>
    <tr><td><strong>Time Present:</strong> {{ student_profile.time_present }}</td></tr>
  </table>
</div>

<table>
  <thead>
    <tr>
      <th>SUBJECT</th>
      <th>1st TEST</th>
      <th>2nd TEST</th>
      <th>EXAMINATION</th>
      <th>TOTAL</th>
      <th>1st TERM</th>
      <th>2nd TERM</th>
      <th>AVERAGE</th>
      <th>GRADE</th>
      <th>COMMENT</th>
    </tr>
  </thead>
  <tbody>
    {% for grade in grades %}
    <tr>
      <td>{{ grade.subject }}</td>
      <td>{{ grade.first_test }}</td>
      <td>{{ grade.second_test }}</td>
      <td>{{ grade.exam }}</td>
      <td class="highlight">{{ grade.total_score }}</td>
      <td>{{ grade.first_term_score }}</td>
      <td>{{ grade.second_term_score }}</td>
      <td>{{ grade.average_score }}</td>
      <td>{{ grade.manual_grade }}</td>
      <td class="highlight">{{ grade.grade_comment }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<div class="grade-key">
  <h4>GRADE KEY</h4>
  <table>
    <tr>
      <th>GRADE</th>
      <th>MARKS</th>
    </tr>
    <tr>
      <td>A*</td>
      <td>90% & Above</td>
    </tr>
    <tr>
      <td>A</td>
      <td>80-89%</td>
    </tr>
    <tr>
      <td>B</td>
      <td>70-79%</td>
    </tr>
    <tr>
      <td>C</td>
      <td>60-69%</td>
    </tr>
    <tr>
      <td>D</td>
      <td>50-59%</td>
    </tr>
    <tr>
      <td>E</td>
      <td>40-49%</td>
    </tr>
    <tr>
      <td>F</td>
      <td>0-39%</td>
    </tr>
  </table>
</div>

<div class="skill-box">
  <h4>📋 Behavioural Assessment (1-5)</h4>
  {% for skill in behavioural_skills %}
  <div class="skill">{{ skill.skill_name }} <span class="highlight">{{ skill.rating }}</span></div>
  {% endfor %}
</div>

<table class="summary-table">
<tr>
<td width="50%">
📌 <strong>Performance Summary</strong><br>
Total Score: <span class="highlight">{{ report.total_available_score }}</span><br>
Student Score: <span class="highlight">{{ report.overall_score }}</span><br>
Average: <span class="highlight">{{ report.overall_average }}%</span><br>
Position: <span class="highlight">{{ report.overall_position }}</span>
</td>
<td width="50%">
🗣️ <strong>Teacher/Admin Comments</strong><br>
Teacher: <span class="highlight">{{ report.teacher_comment }}</span><br>
Admin: {{ report.admin_comment_report }}<br>
Next Term Begins: {{ report.next_term_date|date:"F j, Y" }}
</td>
</tr>
</table>

<div class="footer">
  PEN ARK SCHOOLS — Trained For Duty And For Thee.
</div>
</body>
</html>